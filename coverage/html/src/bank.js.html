<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/bank.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">src/</a> bank.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">88.89% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>56/63</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">64.86% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>24/37</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>6/6</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">90.16% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>55/61</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-yes">12×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">class Bank {
    constructor() {
     this.balance = 0;
     this.statement = ["date || credit || debit || balance"]
     this.fullStatement = []
     this.validDate = true
&nbsp;
    }
&nbsp;
    validateDate(dateString){      
        let dateformat = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/
              
        // Match the date format through regular expression      
        if(dateString.match(dateformat)){      
            let operator = dateString.split('/');      
          
            // Extract the string into month, date and year      
            let datepart = [];      
            <span class="missing-if-branch" title="else path not taken" >E</span>if (operator.length&gt;1){      
                datepart = dateString.split('/');      
            }      
            let day = parseInt(datepart[0]);
            let month = parseInt(datepart[1]);            
            let year = parseInt(datepart[2]);      
                  
            // Create list of days of a month      
            let ListofDays = [31,28,31,30,31,30,31,31,30,31,30,31];      
            if (month==1 || month&gt;2){      
                <span class="missing-if-branch" title="if path not taken" >I</span>if (day&gt;ListofDays[month-1]){      
                    ///This check is for Confirming that the date is not out of its range      
<span class="cstat-no" title="statement not covered" >                    return false;      </span>
                }      
            }else <span class="missing-if-branch" title="else path not taken" >E</span>if (month==2){      
                let leapYear = false;      
                <span class="missing-if-branch" title="if path not taken" >I</span>if ( (!(year % 4) &amp;&amp; <span class="branch-1 cbranch-no" title="branch not covered" >year % 100)</span> || !(year % 400)) {      
<span class="cstat-no" title="statement not covered" >                    leapYear = true;      </span>
                }      
                <span class="missing-if-branch" title="else path not taken" >E</span>if ((leapYear == false) &amp;&amp; (day&gt;=29)){      
                    return false;      
                }else      
<span class="cstat-no" title="statement not covered" >                if ((leapYear==true) &amp;&amp; (day&gt;29)){      </span>
<span class="cstat-no" title="statement not covered" >                    console.log('Invalid date format!'); </span>
<span class="cstat-no" title="statement not covered" >                    this.validDate = false     </span>
<span class="cstat-no" title="statement not covered" >                    return false;      </span>
                }      
            }      
        }else{      
            console.log("Invalid date format!");  
            this.validDate = false    
            return false;      
        }      
        this.validDate = true
        return true;      
    }
&nbsp;
    formatDate(date) {
        let month = String(date.getMonth() + 1);
        let day = String(date.getDate());
        const year = String(date.getFullYear());
        <span class="missing-if-branch" title="if path not taken" >I</span>if (month.length &lt; 2) <span class="cstat-no" title="statement not covered" >month = '0' + month;</span>
        <span class="missing-if-branch" title="else path not taken" >E</span>if (day.length &lt; 2) day = '0' + day;
      
        return `${day}/${month}/${year}`;
        }
&nbsp;
     deposit(number,date = new Date()) {
         if (typeof date == "object") {
         var formattedDate = this.formatDate(date)
         }else{
             formattedDate = date
         }
         this.validateDate(formattedDate);
         <span class="missing-if-branch" title="else path not taken" >E</span>if(this.validDate == true) {
         this.balance = this.balance + number;
         var depositAmount = number.toFixed(2).toString();
         var depositFull = formattedDate + " || || " + depositAmount + " || " + this.balance.toFixed(2);
         this.statement.push(depositFull);
         }
        return this.balance
      }
&nbsp;
      withdraw(number,date = new Date()) {
        if (typeof date == "object") {
            var formattedDate = this.formatDate(date)
            }else{
                formattedDate = date
            }
            this.validateDate(formattedDate);
            if(this.validDate == true) {
        this.balance = this.balance - number;
        var withdrawAmount = number.toFixed(2).toString();
        var withdrawFull = formattedDate + " || " + withdrawAmount + " || || " + this.balance.toFixed(2);
        this.statement.push(withdrawFull);
            }
       return this.balance
      }
&nbsp;
      printStatement(statement = this.statement){
          for (var i = 0; i &lt; statement.length; i ++){
              console.log(statement[i]);
              this.fullStatement.push(statement[i])
&nbsp;
          }
&nbsp;
      }
&nbsp;
&nbsp;
}</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Nov 05 2020 12:14:41 GMT+0000 (Greenwich Mean Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
